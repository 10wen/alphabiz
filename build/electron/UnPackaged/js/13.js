(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"681d":function(e,s,t){"use strict";t.r(s);t("ddb0");var o,c,r=t("5781");let i=(o=r["a"].Nodes(["channels","resources","titles","covers","sources"]),o(c=class extends r["a"]{constructor(){super("lib"),this.resourcesDict={}}onConnected(e){const s=()=>this.resources.open((e=>this.resourcesDict=Object.assign({},e||{})));e?s():this.resources.off()}createResource(e,{title:s,cover:t,source:o}){const c=this.titles.get(e);c.put(s);const r=this.covers.get(e);t.forEach((e=>r.set(e)));const i=this.sources.get(e),u=e=>{const{link:s,rating:t,comments:o}=e;i.set({link:s,rating:t,comments:o})};o.forEach(u),this.resources.get(e).put({id:e,title:c,cover:r,source:i})}__removeNode__(e,s){if(void 0!==s&&null!==s)if("object"===typeof s){const t=([s,t])=>{this.__removeNode__(e.get(s),t)};Object.entries(s).forEach(t),e.put(null)}else e.put(null)}removeSource(e,s){const t=this.resourcesDict[e].source[s],o=this.sources.get(e).get(s);this.__removeNode__(o,t)}removeResource(e){const s=this.resourcesDict[e],t={id:this.resources.get(e).get("id"),title:this.titles.get(e),cover:this.covers.get(e),source:this.sources.get(e)};Object.entries(s).forEach((([s,o])=>{const c=t[s];this.__removeNode__(c,o),"id"!==s&&this.resources.get(e).get(s).put(null)})),this.resources.get(e).put(null)}})||c);s["default"]=i}}]);
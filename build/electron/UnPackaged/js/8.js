(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{3042:function(t,e,a){"use strict";a("55d8")},"529b":function(t,e,a){},"55d8":function(t,e,a){},5816:function(t,e,a){"use strict";a("529b")},b006:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("q-card",{staticClass:"q-mb-md",attrs:{bordered:"",flat:""}},[a("q-card-section",{staticClass:"panel"},t._l([{color:"positive",icon:"bug_report",label:"Open WebTorrent DevTools",handleClick:t.openWebtorrentDevTools},{color:"negative",icon:"delete_forever",label:"Clear Application Config",handleClick:t.delete_config},{color:"general",icon:"translate",label:"Get User Language",handleClick:t.getUsersLanguage},{color:"general",icon:"flag",label:"Get Locale",handleClick:t.getLocale}],(function(t,e){return a("alphabiz-button",{key:e,attrs:{color:t.color,icon:t.icon,label:t.label},on:{click:t.handleClick}})})),1)],1),a("q-card",{staticClass:"q-mb-md",attrs:{bordered:"",flat:""}},[a("q-tabs",{attrs:{align:"left","no-caps":"","narrow-indicator":""},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l([{name:"accountInfo",icon:"account_circle",label:"Account Info"},{name:"amplify",icon:"developer_board",label:"Amplify"},{name:"devInfo",icon:"info",label:"Dev Info"},{name:"urlConvert",icon:"link",label:"Alphabiz URL Convert"}],(function(e){return a("q-tab",t._b({key:e.name},"q-tab",e,!1))})),1),a("q-separator"),a("q-tab-panels",{attrs:{animated:""},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[a("q-tab-panel",{attrs:{name:"accountInfo"}},[a("account-tab-panel")],1),a("q-tab-panel",{attrs:{name:"amplify"}},[a("amplify-tab-panel")],1),a("q-tab-panel",{attrs:{name:"devInfo"}},[a("dev-info-tab-panel")],1),a("q-tab-panel",{attrs:{name:"urlConvert"}},[a("url-convert")],1)],1)],1)],1)},o=[],r=a("ed08"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",[t._v(t._s(t.$store.state.account.authState))]),"signedIn"===t.$store.state.account.authState?a("div",{staticClass:"row",staticStyle:{margin:"-4px"}},[t._l(t.$store.getters.accountUserInfo,(function(e,n){return[Array.isArray(e)?[a("div",{key:n,staticClass:"col-12 col-lg-6 q-pa-xs"},[a("q-card",{staticClass:"overflow-hidden",attrs:{flat:"",bordered:""}},[Array.isArray(e)?a("q-expansion-item",{attrs:{"content-inset-level":.4,label:n}},t._l(e,(function(e,n){return a("div",{key:n},[t._v(t._s(e))])})),0):t._e()],1)],1)]:[a("div",{key:n,staticClass:"col-6 col-sm-3 col-lg-2 q-pa-xs"},[a("q-card",{staticClass:"overflow-hidden q-px-md q-py-sm",staticStyle:{"min-height":"66px"},attrs:{flat:"",bordered:""}},[a("div",{staticClass:"text-capitalize",staticStyle:{"font-size":"0.8rem",opacity:"0.8"}},[t._v(t._s(n))]),a("div",{staticClass:"text-weight-bold text-no-wrap ellipsis"},[t._v(t._s(e))])])],1)]]}))],2):t._e(),"signedIn"===t.$store.state.account.authState?[a("q-separator",{staticStyle:{margin:"16px -16px"}}),a("alphabiz-button",{attrs:{label:"Add Credits 100","on-click":t.addCredits}}),a("span",{staticClass:"q-ml-md"},[t._v("为当前用户添加100积分")])]:t._e()],2)},i=[],l=(a("e9c4"),a("0d1c")),c={name:"AccountTabPanel",methods:{async addCredits(){const t=this.$store.state.account.sub;await Object(l["testCommand"])("bonus",{amount:1e5,targetSub:t,meta:JSON.stringify({description:"from development panel"})})}}},d=c,u=a("2877"),f=a("f09f"),b=a("3b73"),v=a("eb85"),p=a("eebe"),m=a.n(p),h=Object(u["a"])(d,s,i,!1,null,"f11f3018",null),_=h.exports;m()(h,"components",{QCard:f["a"],QExpansionItem:b["a"],QSeparator:v["a"]});var g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.$amplify.amplifyTest,(function(t,e){return a("amplify-button",{key:e,staticClass:"q-mr-sm",attrs:{label:e,"on-click":function(){return t()}}})})),a("amplify-button",{attrs:{label:"task test command","on-click":t.handleTaskTestCmd}}),a("amplify-button",{attrs:{label:"t1","on-click":t.requestT}}),a("amplify-button",{attrs:{label:"t2","on-click":t.completedT}}),a("amplify-button",{attrs:{label:"t3","on-click":t.finishT}})],2)},y=[],C=a("9523"),q=a.n(C),T=(a("d9e2"),a("a030")),w=a("0306"),I=a("63fb"),S=a("70a3");class k{static async execute(t,e){if(!this._operations_[t])throw new Error("operation not found");return await this.executeRaw(t,this._operations_[t],e)}static async executeRaw(t,e,a){var n;const o=await T["a"].graphql({query:e,variables:a}).catch((t=>{throw t instanceof Error?t:new Error(t.errors[0].message)})),r=o.data[t];return null!==(n=null===r||void 0===r?void 0:r.item)&&void 0!==n?n:r}static subscribeRaw(t,e,a,n=console.warn){if(!this._operations_[t])throw new Error("operation not found");const o=this._operations_[t],r=T["a"].graphql({query:o,variables:e});return r.subscribe({next:({provider:e,value:n})=>{var o;return a(null===(o=n.data)||void 0===o?void 0:o[t],e)},error:n})}static async subscribe(t,e,a,n,o){let r=!0;const s=()=>new Promise((t=>setTimeout(t,5e3))),i=async()=>{const l=async()=>{r&&(await s(),await i())};try{await a();const s=await k.subscribeRaw(t,e,o,l),i=s.unsubscribe;s.unsubscribe=function(){return r=!1,i.apply(this)},await n(s)}catch(c){await l()}};await i()}}q()(k,"_operations_",{...w,...I,...S});var A={name:"AmplifyTabPanel",methods:{async handleTaskTestCmd(){const t=await k.execute("taskTestCommand",{input:JSON.stringify({cmd:"createEmailTask",params:{email:"lk@alpha.biz"}})});console.log(JSON.parse(t))},async requestT(){const t=await this.$store.dispatch("CREDIT_PAY_DATA_REQUEST",{receiverSub:"6279694a-44fa-4610-befc-4472f1d0ac48",amount:1230,meta:{msg:"0402test"}});console.log(t)},async completedT(){const t=await this.$store.dispatch("CREDIT_PAY_DATA_COMPLETED",{transactionId:"61ba5f71-9aac-4524-8a94-14d977a83005"});console.log(t)},async finishT(){this.$store.dispatch("CREDIT_PAY_DATA_FINISH",{transactionId:"61ba5f71-9aac-4524-8a94-14d977a83005"})}}},x=A,$=Object(u["a"])(x,g,y,!1,null,"07e5d2cc",null),E=$.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.devInfo.torrentStore?a("div",{staticClass:"full-width"},[t._v("Torrent Config Store:\n    "),a("alphabiz-button",{staticClass:"dev-info-action q-ml-md",attrs:{label:"Open"},on:{click:function(e){return t.open(t.devInfo.torrentStore)}}}),a("alphabiz-button",{staticClass:"dev-info-action q-ml-sm",attrs:{label:"Reset"},on:{click:t.resetTorrent}}),a("pre",[t._v(t._s(t.devInfo.torrentStore))])],1):t._e(),t.devInfo.settingStore?a("div",{staticClass:"full-width"},[t._v("Setting Config Store:\n    "),a("alphabiz-button",{staticClass:"dev-info-action q-ml-md",attrs:{label:"Open"},on:{click:function(e){return t.open(t.devInfo.settingStore)}}}),a("alphabiz-button",{staticClass:"dev-info-action q-ml-sm",attrs:{label:"Reset"},on:{click:t.resetSetting}}),a("pre",[t._v(t._s(t.devInfo.settingStore))])],1):t._e(),t._v("\n  We are using\n  "),t.devInfo.electronVer?a("div",{staticClass:"full-width"},[t._v("Electron "+t._s(t.devInfo.electronVer)+"\n  ")]):t._e(),t.devInfo.chromeVer?a("div",{staticClass:"full-width"},[t._v("Chrome "+t._s(t.devInfo.chromeVer)+"\n  ")]):t._e(),t.devInfo.nodeVer?a("div",{staticClass:"full-width"},[t._v("Node "+t._s(t.devInfo.nodeVer)+"\n  ")]):t._e(),a("div",[t._v("Quasar "+t._s(t.$q.version))]),a("div",[t._v("Vue "+t._s(t.vueVersion))]),a("div",[t._v(" "+t._s(t.$q.platform))]),t.devInfo.processArgv?a("div",{staticClass:"full-width"},[t._v("Process Argv "+t._s(t.devInfo.processArgv))]):t._e()])},P=[],R=a("2b0e");const D=a("ed08").isElectron(),Q=D?a("34bb").ipcRenderer:null;var O={name:"DevInfoTabPanel",inject:["io"],data(){return{devInfo:{torrentStore:"",settingStore:""}}},methods:{open(t){this.io.emit("show_torrent_file",t)},resetTorrent(){D&&Q.send("reset-torrent")},resetSetting(){this.$store.dispatch("resetSettings").then((t=>{this.$i18n.locale=t.language,this.$q.notify("Reset success")}))}},mounted(){D&&(Q.on("dev-info",((t,e)=>{e.torrentStore&&(this.devInfo.torrentStore=e.torrentStore),e.settingStore&&(this.devInfo.settingStore=e.settingStore),e.electronVer&&(this.devInfo.electronVer=e.electronVer),e.chromeVer&&(this.devInfo.chromeVer=e.chromeVer),e.nodeVer&&(this.devInfo.nodeVer=e.nodeVer),e.argv&&(this.devInfo.processArgv=e.argv)})),Q.send("dev-info")),this.io.off("notify",this.notify),this.io.on("notify",this.notify)},computed:{vueVersion(){return R["a"].version}}},z=O,L=(a("3042"),Object(u["a"])(z,V,P,!1,null,"5f269e2f",null)),j=L.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("\n  Alphabiz URL Convert\n  "),a("q-input",{staticClass:"q-my-md",attrs:{type:"text",label:"source url"},nativeOn:{paste:function(t){t.stopPropagation()}},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),a("q-btn",{attrs:{color:"primary",icon:"check",label:"Convert"},on:{click:t.convert}})],1)},J=[];const N=a("ed08").isElectron(),W=N?a("34bb").ipcRenderer:null;var Y={name:"DevInfoTabPanel",inject:["io"],data(){return{url:""}},methods:{convert(){this.url&&N&&(W.once("convert-url",((t,e)=>{this.url=e})),W.send("convert-url",this.url))}}},G=Y,B=a("27f9"),F=a("9c40"),H=Object(u["a"])(G,U,J,!1,null,"4cb3b9fe",null),M=H.exports;m()(H,"components",{QInput:B["a"],QBtn:F["a"]});const K=a("ed08").isElectron();var X={name:"Development",components:{AccountTabPanel:_,AmplifyTabPanel:E,DevInfoTabPanel:j,UrlConvert:M},data(){return{currentTab:"accountInfo"}},methods:{delete_config(){this.$q.electron.ipcRenderer.invoke("deleteConfig").then((t=>{this.$q.notify(t)}))},getLocale(){this.$q.notify(this.$q.lang.getLocale())},getUsersLanguage(){r["localConfigs"].getSettingsItem("language").then((t=>{this.$q.notify({message:t,position:"bottom-right",type:"positive",timeout:3e3})})).catch((()=>{this.$q.notify({message:"未获取到数据项",position:"bottom-right",type:"negative",timeout:3e3})}))},openWebtorrentDevTools(){if(K)return a("34bb").ipcRenderer.send("open-webtorrent-devtools")}}},Z=X,tt=(a("5816"),a("9989")),et=a("a370"),at=a("429b"),nt=a("7460"),ot=a("adad"),rt=a("823b"),st=Object(u["a"])(Z,n,o,!1,null,"4109e450",null);e["default"]=st.exports;m()(st,"components",{QPage:tt["a"],QCard:f["a"],QCardSection:et["a"],QTabs:at["a"],QTab:nt["a"],QSeparator:v["a"],QTabPanels:ot["a"],QTabPanel:rt["a"]})}}]);
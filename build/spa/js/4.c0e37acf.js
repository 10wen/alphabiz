(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"713b":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-layout",{attrs:{view:"HHh Lpr lFf"}},[i("q-header",{attrs:{bordered:""}},[t.showAppBar?i("div",{staticStyle:{height:"32px"}}):t._e(),i("q-toolbar",[i("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),i("q-toolbar-title",{staticClass:"toolbar-title",attrs:{shrink:""}},[t._v("\n          "+t._s(t.applicationTitle)+"\n        ")]),i("q-space"),i("q-badge",{staticClass:"q-mx-xs q-px-sm q-py-xs cursor-pointer non-selectable",attrs:{id:"version",label:"v"+t.appVersion,color:"secondary","text-color":"secondary"},on:{click:t.showAboutDialog}}),i("q-badge",{staticClass:"q-mx-xs q-px-sm q-py-xs cursor-pointer non-selectable",attrs:{id:"commit",label:t.appCommit,color:"secondary","text-color":"secondary"},on:{click:t.showAboutDialog}})],1)],1),i("left-drawer",{ref:"leftDrawer",model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}}),i("q-page-container",{staticClass:"bg-page text-page"},[i("keep-alive",{attrs:{include:"Player,Index"}},[i("router-view")],1)],1)],1)},a=[],s=i("9224"),o=i("ebd6"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-drawer",{ref:"qDrawer",staticClass:"bg-page text-page",attrs:{value:t.value,side:"left",bordered:"desktop"===t.currentBehavior,"show-if-above":"",breakpoint:t.breakpoint},on:{input:function(e){return t.$emit("input",e)}}},["mobile"===t.currentBehavior?i("div",{staticStyle:{height:"32px"}}):t._e(),i("q-list",{staticClass:"non-selectable bg-page text-page q-pt-md"},t._l(t.essentialLinks,(function(e){return i("EssentialLink",t._b({key:e.id||e.title},"EssentialLink",e,!1))})),1),i("corner")],1)},c=[],l=(i("ddb0"),i("ddc3")),u=i.n(l),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.children&&0!==t.children.length?t.children.length>0?i("div",[i("q-expansion-item",{attrs:{"expand-separator":"",icon:t.icon,label:t.titleString,caption:t.captionString,"default-opened":""}},t._l(t.children,(function(e){return i("EssentialLink",t._b({key:e.id||e.title,attrs:{level:.5}},"EssentialLink",e,!1))})),1)],1):t._e():i("div",[i("q-item",{staticClass:"bg-page text-page",attrs:{clickable:"","inset-level":t.level,active:t.isActive},on:{click:t.handleClick}},[t.icon?i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{name:t.icon}})],1):t._e(),i("q-item-section",[i("q-item-label",[t._v(t._s(t.titleString))]),i("q-item-label",{attrs:{caption:""}},[t._v(t._s(t.captionString))])],1)],1)],1)},p=[],h={name:"EssentialLink",props:{title:{type:[String,Function],required:!0},caption:{type:[String,Function],default:void 0},icon:{type:String,default:""},link:{type:String,default:"#"},query:{type:Object,default:void 0},level:{type:Number,default:0},children:{type:Array,default(){return[]}}},data(){return{isActive:!1}},computed:{titleString(){return"string"===typeof this.title?this.title:this.title()},captionString(){if(this.caption)return"string"===typeof this.caption?this.caption:this.caption()}},mounted(){this.updateIsActive(this.$route)},watch:{$route(t){this.updateIsActive(t)}},methods:{updateIsActive(t){const e=t.path;let i=e===this.link;if(i&&this.query){const e=t.query;i=Object.entries(this.query).findIndex((([t,i])=>e[t]!==i))<0}this.isActive=i},handleClick(){this.query?this.$router.push({path:this.link,query:this.query}):this.$router.push(this.link)}}},m=h,g=i("2877"),v=i("66e5"),b=i("4074"),f=i("0016"),_=i("0170"),$=i("3b73"),w=i("eebe"),k=i.n(w),q=Object(g["a"])(m,d,p,!1,null,null,null),y=q.exports;k()(q,"components",{QItem:v["a"],QItemSection:b["a"],QIcon:f["a"],QItemLabel:_["a"],QExpansionItem:$["a"]});var S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"corner absolute-bottom non-selectable",on:{click:t.handleClick}},["signedIn"===t.$store.state.account.authState?i("corner-menu",{on:{signOut:t.signOut,invite:t.invite}}):t._e(),i("q-item",{staticStyle:{height:"65px"},attrs:{clickable:"",exact:!0}},[t.$store.state.account.authState?[i("q-item-section",{staticClass:"corner-avatar",attrs:{avatar:""}},[i("q-icon",{staticStyle:{opacity:"0.8"},attrs:{size:"36px",name:"account_circle"}})],1),i("q-item-section",[i("q-item-label",[t._v(t._s(t.title))]),i("q-item-label",{attrs:{caption:""}},[t._v(t._s(t.caption))])],1)]:[i("q-item-section",{staticClass:"corner-avatar",attrs:{avatar:""}},[i("q-spinner",{attrs:{size:"32px"}})],1),i("q-item-section",[i("span",{staticClass:"q-pr-lg"},[t._v(t._s(t.$t("account_loading")))])])]],2)],1)},x=[],C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-menu",{attrs:{"auto-close":"","touch-position":"","transition-show":"jump-up","transition-hide":"jump-down"}},[i("q-list",{staticClass:"corner-menu__list",staticStyle:{"min-width":"160px"}},[i("q-item",{attrs:{clickable:""},on:{click:function(e){return t.$router.push("/account/settings")}}},[i("q-item-section",{attrs:{"data-cy":"account-settings-btn"}},[t._v("\n        "+t._s(t.$t("account_account_setting"))+"\n      ")])],1),i("q-separator"),t.showInvite?i("q-item",{attrs:{clickable:""},on:{click:function(e){return t.$emit("invite")}}},[i("q-item-section",{attrs:{"data-cy":"invite-btn"}},[t._v(t._s(t.$t("account_invitation")))])],1):t._e(),i("q-separator"),i("q-item",{attrs:{clickable:""},on:{click:function(e){return t.$emit("signOut")}}},[i("q-item-section",{attrs:{"data-cy":"sign-out-btn"}},[t._v(t._s(t.$t("account_sign_out"))+"\n      ")])],1)],1)],1)},I=[],L={name:"CornerMenu",computed:{showInvite(){return this.$store.state.account.invitationCode&&this.$store.state.account.invitationCode.findIndex((t=>0===t.invitation_state))>=0}}},Q=L,O=i("4e73"),D=i("1c1c"),B=i("eb85"),A=Object(g["a"])(Q,C,I,!1,null,null,null),E=A.exports;k()(A,"components",{QMenu:O["a"],QList:D["a"],QItem:v["a"],QItemSection:b["a"],QSeparator:B["a"]});var T=i("48f4"),z={name:"Corner",components:{CornerMenu:E},computed:{info(){return"signedIn"===this.$store.state.account.authState?this.$store.getters.accountUserInfo:null},title(){return this.info?this.info.nickname?this.info.nickname:this.info.emailVerified?this.info.email.split("@")[0]:this.info.phoneNumberVerified?this.info.phoneNumber:"???":this.$t("account_want_to_join")},caption(){return this.info?`Lv. ${this.info.accountLevel}`:this.$t("account_sign_up_now")}},methods:{handleClick(){const t=this.$store.state.account.authState;t&&"signedIn"!==t&&this.$amplify.showSignedOutDialog()},signOut(){T["b"].showPositive("signed_out"),T["a"].updateState("signedOut"),(this.$route.path.startsWith("/account")||this.$route.path.startsWith("/credits"))&&this.$router.push("/"),T["a"].signOut().catch((()=>{}))},invite(){this.$router.push({path:"/account/settings",query:{call:"invite"}})}}},j=z,N=(i("fd61"),i("0d59")),M=Object(g["a"])(j,S,x,!1,null,"2e57ea3c",null),W=M.exports;k()(M,"components",{QItem:v["a"],QItemSection:b["a"],QIcon:f["a"],QItemLabel:_["a"],QSpinner:N["a"]});var F=i("0613");const P=!u.a.prerelease(s["a"]);var V={name:"LeftDrawer",components:{EssentialLink:y,Corner:W},props:{value:Boolean,currentTab:String},data(){return{breakpoint:1080,currentBehavior:null,resizeListener:null}},computed:{indexItem(){const t=t=>{const e=F["a"].getters[`get${t[0].toUpperCase()+t.slice(1)}TaskCount`];return`${this.$t(t)} (${e})`},e={id:"downloading",title:()=>t("downloading"),icon:"file_download",link:"/",query:{currentTab:"downloading"}},i={id:"uploading",title:()=>t("uploading"),caption:()=>F["a"].getters.isUploadingLoading?this.$t("loading"):null,icon:"file_upload",link:"/",query:{currentTab:"uploading"}},n={id:"downloaded",title:()=>t("downloaded"),icon:"done",link:"/",query:{currentTab:"downloaded"}};return{title:this.$t("home"),caption:this.$t("home_caption"),icon:"home",children:[e,i,n]}},accountSettingItem(){const t=[];return"signedIn"===this.$store.state.account.authState&&t.push({title:this.$t("account_account_setting"),icon:"account_circle",link:"/account/settings",caption:this.$t("account_setting_caption")}),t},developmentItem(){const t=[];try{P&&t.push({title:this.$t("development"),caption:this.$t("development_caption"),icon:"developer_mode",link:"/development"})}catch(e){}return t},essentialLinks(){const t={title:this.$t("player"),caption:this.$t("player_caption"),icon:"play_circle_filled",link:"/player"},e={title:this.$t("credits"),caption:this.$t("credits_caption"),icon:"savings",link:"/credits"},i={title:this.$t("basic_setting"),icon:"assignment",link:"/settings",caption:this.$t("basic_caption")},n={title:this.$t("advanced"),icon:"build",link:"/advancedSettings",caption:this.$t("advanced")},a={title:this.$t("settings"),caption:this.$t("settings_caption"),icon:"settings",children:[...this.accountSettingItem,i,n]};return[this.indexItem,t,e,a,...this.developmentItem]}},methods:{onWindowResize(){this.updateCurrentBehavior()},updateCurrentBehavior(){const t=window.innerWidth<=this.breakpoint-8?"mobile":"desktop";t!==this.currentBehavior&&(this.currentBehavior=t)}},created(){this.updateCurrentBehavior(),this.resizeListener=t=>this.onWindowResize(t),window.addEventListener("resize",this.resizeListener)},beforeDestroy(){window.removeEventListener("resize",this.resizeListener)}},H=V,J=i("9404"),U=Object(g["a"])(H,r,c,!1,null,null,null),R=U.exports;k()(U,"components",{QDrawer:J["a"],QList:D["a"]});var G=i("7f32");const K=i("ed08").isElectron();var X={name:"MainLayout",components:{ApplicationBar:G["a"],LeftDrawer:R},data(){return{showAppBar:K,currentTab:"downloading",leftDrawerOpen:!1,appVersion:s["a"],appCommit:o["a"]}},computed:{leftDrawerBehavior(){return this.$refs.leftDrawer.currentBehavior},taskList(){return[{title:this.$t("downloading")+` (${this.taskNum.downloading})`,icon:"file_download",link:"/",trigger:"downloading"},{title:this.$t("uploading")+` (${this.taskNum.uploading})`,icon:"file_upload",link:"/",trigger:"uploading",loading:this.loadingStatus.uploading},{title:this.$t("downloaded")+` (${this.taskNum.downloaded})`,icon:"done",link:"/",trigger:"downloaded"}]},applicationTitle(){const t={Index:this.$route.query.currentTab,Player:"player",Credits:"credits",AccountSettings:"account_account_setting",BasicSettings:"basic_setting",AdvancedSettings:"advancedSettings",Development:"development"},e=this.$route.name;return e&&t[e]?this.$t(t[e]):"Alphabiz"}},methods:{showAboutDialog(){const t=this.$root.$children[0];t.$refs.about.about_visible()}}},Y=X,Z=(i("89d3"),i("4d5a")),tt=i("e359"),et=i("65c6"),it=i("9c40"),nt=i("6ac5"),at=i("2c91"),st=i("58a81"),ot=i("09e3"),rt=i("7ff0"),ct=Object(g["a"])(Y,n,a,!1,null,null,null);e["default"]=ct.exports;k()(ct,"components",{QLayout:Z["a"],QHeader:tt["a"],QToolbar:et["a"],QBtn:it["a"],QToolbarTitle:nt["a"],QSpace:at["a"],QBadge:st["a"],QPageContainer:ot["a"],QFooter:rt["a"],QDrawer:J["a"]})},"89d3":function(t,e,i){"use strict";i("e87e")},d410:function(t,e,i){},e87e:function(t,e,i){},ebd6:function(t){t.exports=JSON.parse('{"a":"93dba79"}')},fd61:function(t,e,i){"use strict";i("d410")}}]);
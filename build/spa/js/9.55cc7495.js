(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"3a45":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex"},[a("q-scroll-area",{staticStyle:{"min-height":"100%","min-width":"100%"}},[a("div",{staticClass:"q-my-lg q-mx-md"},[a("q-input",{attrs:{outlined:"",dense:"",label:"Resource Title"},scopedSlots:t._u([{key:"before",fn:function(){},proxy:!0},{key:"after",fn:function(){return[a("alphabiz-button",{attrs:{label:t.$t("lib_search"),"on-click":t.handleSearch}})]},proxy:!0}]),model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1),a("q-separator",{staticClass:"q-mb-md"}),a("div",{staticClass:"resource-layout"},t._l(t.resources,(function(e,s){return a("div",{key:s},[e?a("ResourceCard",{attrs:{data:e}}):t._e()],1)})),0)],1)],1)},r=[],o=(a("ddb0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{staticClass:"resource-card",attrs:{flat:"",bordered:""}},[a("q-dialog",{model:{value:t.showDetailDialog,callback:function(e){t.showDetailDialog=e},expression:"showDetailDialog"}},[t.data.title&&t.data.source?a("q-card",{staticClass:"q-pa-md",staticStyle:{"min-width":"600px"},attrs:{flat:"",bordered:""}},[a("div",{staticClass:"text-weight-bold",staticStyle:{"font-size":"1.4rem"}},[t._v(t._s(t.data.title["en-us"]))]),a("div",{staticClass:"text-caption non-selectable"},[t._v(t._s(t.data.id))]),a("div",{staticClass:"q-py-sm",staticStyle:{margin:"0 -8px"}},t._l(t.data.source,(function(e,s){return a("div",{key:s,staticClass:"q-pa-md source-item",on:{click:function(e){return t.handleSourceClick(s)}}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticClass:"q-mr-md",staticStyle:{"font-weight":"bold","font-size":"1rem"}},[t._v(t._s(t.$t("lib_resource_rating"))+": ")]),a("span",{staticClass:"q-mr-sm"},[t._v(t._s(parseFloat(e.rating)/20))]),a("q-rating",{attrs:{value:parseFloat(e.rating)/20,size:"1.4rem",icon:"star_border","icon-selected":"star","icon-half":"star_half",max:5,color:"primary"}})],1),a("div",{staticClass:"q-my-sm"},[a("span",{staticClass:"q-mr-md",staticStyle:{"font-weight":"bold","font-size":"1rem"}},[t._v(t._s(t.$t("lib_resource_link"))+":")]),a("span",{staticStyle:{"font-weight":"bold","font-size":"1rem"}},[t._v(t._s(e.link))])]),a("div",[a("div",{staticStyle:{"font-weight":"bold","font-size":"1rem"}},[t._v(t._s(t.$t("lib_resource_comments"))+":")]),a("div",[t._v(t._s(e.comments))])])])})),0)]):t._e()],1),a("div",{staticClass:"resource-button"},[a("alphabiz-button",{attrs:{"button-type":"icon",size:"xl",icon:"play_arrow"},on:{click:function(e){t.showDetailDialog=!0}}})],1),a("div",{staticClass:"resource-bottom"},[a("div",{staticClass:"resource-info"},[t.data.title&&t.data.title["en-us"]?[a("div",{staticClass:"text-weight-bold",staticStyle:{"font-size":"1.4rem"}},[t._v(t._s(t.data.title["en-us"]))]),a("div",{staticClass:"text-caption non-selectable"},[t._v(t._s(t.data.id))])]:[a("q-skeleton",{staticStyle:{"font-size":"1.4rem"},attrs:{type:"text"}}),a("q-skeleton",{attrs:{type:"text"}})]],2)]),a("div",{staticClass:"resource-mask"}),a("div",{staticClass:"resource-cover"},[t.coverLoaded?t._e():a("q-skeleton",{staticClass:"full-height",attrs:{type:"rect"}}),a("img",{directives:[{name:"show",rawName:"v-show",value:t.coverLoaded,expression:"coverLoaded"}],attrs:{src:t.coverSrc,alt:t.data.title["en-us"],referrer:"no-referrer",referrerpolicy:"no-referrer"},on:{load:t.onCoverLoad,error:t.onCoverError}})],1)],1)}),i=[],c={name:"ResourceCard",props:{data:Object},data(){return{coverLoaded:!1,showDetailDialog:!1}},computed:{coverSrc(){return this.data.cover?this.data.cover[Object.keys(this.data.cover)[0]]:null}},methods:{onCoverLoad(){this.coverLoaded=!0},onCoverError(){console.log("cover load err"),this.coverLoaded=!1},async handleSourceClick(t){await navigator.clipboard.writeText(this.data.source[t].link),this.$q.notify({message:this.$t("lib_resource_link_copied"),type:"positive",position:"bottom-right",timeout:5e3})}}},n=c,l=(a("6ead"),a("2877")),d=a("f09f"),u=a("24e8"),h=a("daf4"),v=a("293e"),f=a("eebe"),m=a.n(f),p=Object(l["a"])(n,o,i,!1,null,"8c65471c",null),b=p.exports;m()(p,"components",{QCard:d["a"],QDialog:u["a"],QRating:h["a"],QSkeleton:v["a"]});var _={name:"Library",components:{ResourceCard:b},data(){return{searchText:"The Godfather",resources:{}}},created(){this.$GunDB.gun||this.$GunDB.enable({peers:["http://gun-manhattan.herokuapp.com/gun"],localStorage:!0})},methods:{async handleSearch(){if(!this.searchText)return;const t=this.searchText,e=e=>{const a=Object.values(e).filter((e=>!!e&&e.toLowerCase().indexOf(t.toLowerCase())>=0));return a.length>0},a={};Object.entries(this.$GunDB.lib.resourcesDict).filter((t=>{const a=t[1];return!!a&&(!(!a.title||"object"!==typeof a.title)&&!!e(a.title))})).forEach((([t,e])=>a[t]=e)),this.resources=a}}},y=_,g=(a("97a9"),a("9989")),C=a("4983"),x=a("27f9"),w=a("eb85"),k=Object(l["a"])(y,s,r,!1,null,"9095428a",null);e["default"]=k.exports;m()(k,"components",{QPage:g["a"],QScrollArea:C["a"],QInput:x["a"],QSeparator:w["a"]})},"6ead":function(t,e,a){"use strict";a("b26e")},"740f":function(t,e,a){},"97a9":function(t,e,a){"use strict";a("740f")},b26e:function(t,e,a){}}]);
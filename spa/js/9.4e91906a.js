(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"0643":function(t,s,e){},"0e78":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=this,e=s.$createElement,i=s._self._c||e;return i("q-page",{attrs:{padding:""}},[i("header",{staticClass:"bottom-border"},[i("div",{staticClass:"text-h5 q-pb-sm"},[s._v("\n      "+s._s(this.$t("advancedSettings"))+"\n    ")])]),i("article",[i("div",[i("div",{staticClass:"configuration-variable q-pt-sm row "},[i("div",{staticClass:"col-4 m-t-4 "},[i("span",{staticClass:"label-name"},[s._v(s._s(this.$t("autoUpdate")))])]),i("div",{staticClass:"col-8 row"},[i("div",{staticClass:"col-12"},[i("q-checkbox",{staticClass:"rox-font",attrs:{size:"xs",label:this.$t("autoCheckUpdate")},model:{value:s.settings.autoCheckUpdate,callback:function(t){s.$set(s.settings,"autoCheckUpdate",t)},expression:"settings.autoCheckUpdate"}})],1)])]),i("div",{staticClass:"configuration-variable q-pt-sm row"}),i("div",{staticClass:"configuration-variable q-bt-sm row"},[i("div",{staticClass:"col-4 m-t-8"},[i("span",{staticClass:"label-name col"},[s._v(s._s(this.$t("trackerService")))])]),i("div",{staticClass:"col-8 row"},[i("div",{staticClass:"col-9 m-b-8 m-l-10"},[i("q-select",{attrs:{outlined:"","use-input":"","use-chips":"",multiple:"","input-debounce":"0",options:s.trackerSourceOptions[0].options,dense:""},model:{value:s.settings.trackerSource,callback:function(t){s.$set(s.settings,"trackerSource",t)},expression:"settings.trackerSource"}})],1),i("div",{staticClass:" m-l-10 m-b-8 syncBtn"},[i("q-btn",{attrs:{loading:s.loading,unelevated:"",icon:"devices"},on:{click:function(t){return s.simulateProgress(1)}}},[i("q-tooltip",[s._v("从服务器同步")])],1)],1),i("div",{staticClass:"col-10 m-l-10 m-t-8 trackerArea"},[i("q-input",{attrs:{rows:"3","auto-complete":"off",placeholder:"Tracker Sources",outlined:"",type:"textarea"},model:{value:s.settings.trackerBt,callback:function(t){s.$set(s.settings,"trackerBt",t)},expression:"settings.trackerBt"}})],1),i("div",{staticClass:"col-12 m-l-10 row m-b-8 lookUp"},[i("div",{staticClass:"col-5 m-t-4 checkOutGroup"},[i("span",{staticClass:"wd"},[s._v(s._s(this.$t("recommendUse"))+"：")]),i("a",{staticClass:"checkDocument m-l-10",attrs:{target:"_blank",href:"https://github.com/ngosang/trackerslist"}},[s._v("ngosang/trackerslist\n                "),i("q-icon",{attrs:{size:"12",name:"flag"}})],1),i("a",{staticClass:"checkDocument m-l-10",attrs:{target:"_blank",href:"https://github.com/XIU2/TrackersListCollection"}},[s._v("XIU2/TrackersListCollection\n                "),i("q-icon",{attrs:{size:"12",name:"flag"}})],1)])]),i("div",{staticClass:"col-12 m-b-8"},[i("q-checkbox",{staticClass:"rox-font",attrs:{size:"xs",label:this.$t("autoUpdateTrackerServiceList")},model:{value:s.settings.autoUpdateTrackerServiceList,callback:function(t){s.$set(s.settings,"autoUpdateTrackerServiceList",t)},expression:"settings.autoUpdateTrackerServiceList"}})],1),i("div",{staticClass:"col-12 m-l-10 manual-update"},[i("q-btn",{attrs:{color:"primary",label:s.$t("manualUpdateTracker"),loading:s.updatingTracker,disable:s.updatingTracker},on:{click:s.updateTracker}})],1),i("div",{staticClass:"col-12 m-t-10 m-l-10 updatedate"},[s._v("\n            "+s._s(s.updateTime)+"\n          ")])])]),i("div",{staticClass:"configuration-variable q-pt-sm row",attrs:{id:"bind-ports"}},[i("div",{staticClass:"col-4 m-t-8"},[i("span",{staticClass:"label-name col"},[s._v(s._s(this.$t("listenPort")))])]),i("div",{staticClass:"col-8 row"},[i("div",{staticClass:"col-12 m-b-4 m-l-10"},[s._v("\n            "+s._s(this.$t("BTlistenPort"))+"\n          ")]),i("div",{staticClass:"col-6 m-b-8 m-l-10"},[i("div",[i("q-input",{attrs:{outlined:"",dense:!0},model:{value:s.settings.BTlistenPort,callback:function(t){s.$set(s.settings,"BTlistenPort",s._n(t))},expression:"settings.BTlistenPort"}})],1)]),i("div",{staticClass:"server_box"},[i("q-icon",{staticClass:"serverIcon",attrs:{size:"sm",color:"#909399","text-color":"#dcdfe6",outline:"",name:"casino"},on:{click:function(){return t.settings.BTlistenPort=t.randomPort()}}})],1),i("div",{staticClass:"col-12 m-b-4 m-l-10"},[s._v("\n            "+s._s(this.$t("DHTlistenPort"))+"\n          ")]),i("div",{staticClass:"col-6 m-b-8 m-l-10"},[i("div",[i("q-input",{attrs:{outlined:"",dense:!0},model:{value:s.settings.DHTlistenPort,callback:function(t){s.$set(s.settings,"DHTlistenPort",s._n(t))},expression:"settings.DHTlistenPort"}})],1)]),i("div",{staticClass:"server_box"},[i("q-icon",{staticClass:"serverIcon",attrs:{size:"sm",color:"#909399","text-color":"#dcdfe6",outline:"",name:"casino"},on:{click:function(){return t.settings.DHTlistenPort=t.randomPort()}}})],1)])]),i("div",{staticClass:"configuration-variable q-pt-sm row",attrs:{id:"associations"}},[i("div",{staticClass:"col-4 m-b-8"},[i("span",{staticClass:"label-name col"},[s._v(s._s(this.$t("downloadAgreement")))])]),i("div",{staticClass:"col-8 row"},[i("div",{staticClass:"col-12 m-b-4"},[s._v("\n            "+s._s(this.$t("setDefaultClientForFollowingProtocols"))+"\n          ")]),i("div",{staticClass:"col-12 "},[i("q-toggle",{attrs:{label:this.$t("magnetUrl")+"[ magnet:// ]"},model:{value:s.settings.bindMagnetUrl,callback:function(t){s.$set(s.settings,"bindMagnetUrl",t)},expression:"settings.bindMagnetUrl"}})],1),s.isWindows?[i("div",{staticClass:"col-12"},[i("q-toggle",{attrs:{label:this.$t("torrent_file")+"[ .torrent ]"},model:{value:s.settings.bindTorrentFile,callback:function(t){s.$set(s.settings,"bindTorrentFile",t)},expression:"settings.bindTorrentFile"}})],1),i("div",{staticClass:"col-12"},[i("q-toggle",{attrs:{label:this.$t("video_file")+"[ .mkv .avi ... ]"},model:{value:s.settings.bindVideoFile,callback:function(t){s.$set(s.settings,"bindVideoFile",t)},expression:"settings.bindVideoFile"}})],1),i("div",{staticClass:"col-12"},[i("q-toggle",{attrs:{label:this.$t("audio_file")+"[ .mp3 .wav ... ]"},model:{value:s.settings.bindAudioFile,callback:function(t){s.$set(s.settings,"bindAudioFile",t)},expression:"settings.bindAudioFile"}})],1)]:s._e()],2)]),i("div",{staticClass:"configuration-variable q-pt-sm row"},[i("div",{staticClass:"col-4 m-b-8"},[i("span",{staticClass:"label-name"},[s._v(s._s(this.$t("security")))])]),i("div",{staticClass:"col-8 row"},[i("div",{staticClass:"col-12 m-b-8"},[s._v("\n            "+s._s(this.$t("impersonateUserAgent"))+"\n          ")]),i("div",{staticClass:"col-10 m-b-8"},[i("q-input",{attrs:{rows:"2","auto-complete":"off",placeholder:"User-Agent",outlined:"",type:"textarea"},model:{value:s.settings.userAgent,callback:function(t){s.$set(s.settings,"userAgent",t)},expression:"settings.userAgent"}})],1),i("div",{staticClass:"col-4 m-b-8"},[i("div",{staticClass:"agentSelect"},[i("q-btn-group",{attrs:{unelevated:""}},[i("q-btn",{attrs:{size:"12px",label:"Aria2"},on:{click:function(t){return s.selectUserAgent("aria2")}}}),i("q-btn",{attrs:{size:"12px",label:"Transimission"},on:{click:function(){return s.selectUserAgent("transmission")}}}),i("q-btn",{attrs:{size:"12px",label:"Chrome"},on:{click:function(){return s.selectUserAgent("chrome")}}}),i("q-btn",{attrs:{size:"12px",label:"du"},on:{click:function(){return s.selectUserAgent("du")}}})],1)],1)]),i("div",{staticClass:"col-12 m-b-8"},[s._v("\n            "+s._s(this.$t("RPCauthorizationkey"))+"\n          ")]),i("div",{staticClass:"col-12 row m-b-8"},[i("div",{staticClass:"col-8 RPC_label"},[i("q-input",{attrs:{outlined:"",dense:!0,placeholder:"RPC Secret",type:s.isPwd?"password":"text"},scopedSlots:s._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:s.isPwd?"visibility_off":"visibility"},on:{click:function(t){s.isPwd=!s.isPwd}}})]},proxy:!0}]),model:{value:s.settings.RPCauthorizationkey,callback:function(t){s.$set(s.settings,"RPCauthorizationkey",t)},expression:"settings.RPCauthorizationkey"}})],1),i("div",{staticClass:"server_box"},[i("q-icon",{staticClass:"serverIcon",attrs:{size:"sm",color:"#909399","text-color":"#dcdfe6",outline:"",name:"view_in_ar"}})],1)]),i("div",{staticClass:"col-12 m-b-8 row lookUp"},[i("div",{attrs:{"col-4":""}},[i("a",{staticClass:"checkDocument",attrs:{target:"_blank",href:"https://github.com/ngosang/trackerslist"}},[s._v(s._s(this.$t("viewDocument"))+"\n                "),i("q-icon",{attrs:{size:"14",name:"file_present",color:"#606266"}})],1)])])])]),i("div",{staticClass:"configuration-variable q-pt-sm row"},[i("div",{staticClass:"col-4"},[i("span",{staticClass:"label-name"},[s._v(s._s(this.$t("developer")))])]),i("div",{staticClass:"col-8 row"},[i("div",{staticClass:"col-12 m-b-4"},[s._v("\n            "+s._s(this.$t("applicationLogPath"))+"\n          ")]),i("div",{staticClass:"col-12 row m-b-8 "},[i("div",{staticClass:"col-8 m-b-8 direct_label"},[i("q-input",{attrs:{outlined:"",dense:"",disable:"",filled:"",suffix:""},on:{click:s.select_directory,clear:s.clear_select_directory},model:{value:s.settings.downloadDirectory,callback:function(t){s.$set(s.settings,"downloadDirectory",t)},expression:"settings.downloadDirectory"}})],1),i("div",{staticClass:"server_box direct_icon"},[i("q-icon",{staticClass:"serverIcon",attrs:{filled:"",size:"sm",color:"#909399","text-color":"#dcdfe6",outline:"",name:"folder"},on:{click:function(){return s.select_directory()}}})],1)]),i("div",{staticClass:"col-12 m-b-4"},[s._v("\n            "+s._s(this.$t("downloadSessionPath"))+"\n          ")]),i("div",{staticClass:"col-12 row "},[i("div",{staticClass:"col-8"},[i("q-input",{attrs:{outlined:"",disable:"",dense:"",filled:"",suffix:""},on:{click:s.select_directory,clear:s.clear_select_directory},model:{value:s.settings.downloadDirectory,callback:function(t){s.$set(s.settings,"downloadDirectory",t)},expression:"settings.downloadDirectory"}})],1),i("div",{staticClass:"server_box direct_icon"},[i("q-icon",{staticClass:"serverIcon",attrs:{filled:"",size:"sm",color:"#909399","text-color":"#dcdfe6",outline:"",name:"folder"},on:{click:function(){return s.select_directory()}}})],1)]),i("div",{staticClass:"col-12 m-t-8"},[i("q-btn",{staticClass:"resetDownload",attrs:{loading:s.loading,type:"warning",size:"12px",unelevated:"","text-color":"#E6A23C",label:this.$t("resetDownloadSessionRecord")},on:{click:function(t){return s.simulateProgress(1)}}}),i("q-btn",{staticClass:"m-l-10 restoreInit",attrs:{loading:s.loading,size:"12px",unelevated:"",label:this.$t("restoreInitialSettings")},on:{click:function(t){return s.simulateProgress(1)}}})],1)])])])]),i("q-footer",{staticClass:"q-pa-md",staticStyle:{background:"unset","backdrop-filter":"blur(5px)"}},[i("div",{staticClass:"row"},[i("q-btn",{staticClass:"submit",attrs:{loading:s.loading,label:this.$t("submit")},on:{click:s.submit}}),i("q-btn",{staticClass:"bg-white text-black",attrs:{loading:s.loading,label:this.$t("discard")},on:{click:s.discard}}),i("q-space"),i("q-btn",{attrs:{color:"red",label:s.$t("reset")},on:{click:s.resetSettings}})],1)])],1)},a=[],n=(e("a79d"),e("0c6d"));const l={aria2:"aria2/1.35.0",transmission:"Transmission/2.94",chrome:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36",du:"netdisk;6.0.0.12;PC;PC-Windows;10.0.16299;WindowsBaiduYunGuanJia"},o="https://raw.githubusercontent.com/ngosang/trackerslist/master/trackers_best.txt",r="https://raw.githubusercontent.com/ngosang/trackerslist/master/trackers_best_ip.txt",c="https://raw.githubusercontent.com/ngosang/trackerslist/master/trackers_all.txt",d="https://raw.githubusercontent.com/ngosang/trackerslist/master/trackers_all_ip.txt",u="https://cdn.jsdelivr.net/gh/ngosang/trackerslist/trackers_best.txt",g="https://cdn.jsdelivr.net/gh/ngosang/trackerslist/trackers_best_ip.txt",b="https://cdn.jsdelivr.net/gh/ngosang/trackerslist/trackers_all.txt",h="https://cdn.jsdelivr.net/gh/ngosang/trackerslist/trackers_all_ip.txt",p="https://raw.githubusercontent.com/XIU2/TrackersListCollection/master/best.txt",m="https://raw.githubusercontent.com/XIU2/TrackersListCollection/master/all.txt",v="https://raw.githubusercontent.com/XIU2/TrackersListCollection/master/http.txt",k="https://cdn.jsdelivr.net/gh/XIU2/TrackersListCollection/best.txt",C="https://cdn.jsdelivr.net/gh/XIU2/TrackersListCollection/all.txt",f="https://cdn.jsdelivr.net/gh/XIU2/TrackersListCollection/http.txt",_=[{label:"ngosang/trackerslist",options:[{value:o,label:"trackers_best.txt",cdn:!1},{value:r,label:"trackers_best_ip.txt",cdn:!1},{value:c,label:"trackers_all.txt",cdn:!1},{value:d,label:"trackers_all_ip.txt",cdn:!1},{value:u,label:"trackers_best.txt",cdn:!0},{value:g,label:"trackers_best_ip.txt",cdn:!0},{value:b,label:"trackers_all.txt",cdn:!0},{value:h,label:"trackers_all_ip.txt",cdn:!0}]},{label:"XIU2/TrackersListCollection",options:[{value:p,label:"best.txt",cdn:!1},{value:m,label:"all.txt",cdn:!1},{value:v,label:"http.txt",cdn:!1},{value:k,label:"best.txt",cdn:!0},{value:C,label:"all.txt",cdn:!0},{value:f,label:"http.txt",cdn:!0}]}];var x=e("2ef0"),w=e("849b");const $=t=>{const{autoCheckUpdate:s,useProxyService:e,trackerSource:i,trackerBt:a,autoUpdateTrackerServiceList:n,listenPort:l,BTlistenPort:o,DHTlistenPort:r,bindMagnetUrl:c,bindTorrentFile:d,bindVideoFile:u,bindAudioFile:g,userAgent:b,RPCauthorizationkey:h,downloadDirectory:p}=t,m={autoCheckUpdate:s,useProxyService:e,trackerSource:i,trackerBt:a,autoUpdateTrackerServiceList:n,listenPort:l,BTlistenPort:o,DHTlistenPort:r,bindMagnetUrl:c,bindTorrentFile:d,bindVideoFile:u,bindAudioFile:g,userAgent:b,RPCauthorizationkey:h,downloadDirectory:p};return m};var y={name:"Settings",data(){const t=$(this.$store.state.setting.settings),s=Object(x["cloneDeep"])(t);return{isWindows:navigator.userAgent.includes("Windows NT"),settings:t,settingsOriginal:s,trackerSourceOptions:_,isPwd:!0,updateTime:this.$store.state.setting.settings.trackerLastUpdateTime,updatingTracker:!1,loading:!1}},methods:{async clear_select_directory(){await Object(n["a"])("set_setting",this.settings)},async select_directory(){const t=await Object(n["a"])("select_directory");t.filePaths.length>1?this.$q.notify(this.$t("not_length")):this.settings.downloadDirectory=t.filePaths[0]},selectUserAgent(t){const s=l[t];s&&(this.settings.userAgent=s)},syncSettingsConfig(){this.$store.dispatch("fetchSettings",this.settings).then((t=>{this.settings=$(t),this.settingsOriginal=Object(x["cloneDeep"])(this.settings)}))},async submit(){this.loading=!0,this.$store.dispatch("set",this.settings).then((()=>{this.syncSettingsConfig(),this.$q.notify({message:this.$t("preferences_set_successfully"),position:"bottom-right",type:"positive",timeout:3e3})})).catch((()=>{this.$q.notify({message:this.$t("preferences_set_fail"),position:"bottom-right",type:"negative",timeout:3e3})})).finally((()=>{w["a"].emit("update_torrent_settings",{dhtPort:this.settings.DHTlistenPort,torrentPort:this.settings.BTlistenPort}),this.loading=!1}))},async updateTracker(){this.updatingTracker=!0;const t=await Object(n["a"])("update_tracker",this.settings.trackerSource);t&&t.data&&(t.data.length&&(this.settings.trackerBt=t.data.join("\n")),t.failure.length?this.$q.notify({message:this.$t("manualUpdateFail"),caption:t.failure.join("\n")}):this.$q.notify({message:this.$t("manualUpdateSuccess")}),t.success.length&&(this.updateTime=t.time)),this.updatingTracker=!1},discard(){this.syncSettingsConfig()},resetSettings(){this.$q.dialog({title:"Reset",message:"Reset all settings?",ok:{textColor:"red",color:"unset",flat:!0,label:"RESET"},cancel:{textColor:"unset",color:"unset",flat:!0,label:"Not now"}}).onOk((()=>{this.$store.dispatch("resetSettings").then((t=>{this.$i18n.locale=t.language,this.$q.notify({message:"Preferences resetted",position:"bottom-right",type:"positive",timeout:3e3})}))}))},randomPort(){const t=[this.settings.BTlistenPort,this.settings.DHTlistenPort];let s=t[0];while(t.includes(s))s=Math.floor(5e3*Math.random())+17e3;return s},simulateProgress(t){this[`loading${t}`]=!0,setTimeout((()=>{this[`loading${t}`]=!1}),3e3)}},destroyed(){this.discard()},mounted(){if(this.syncSettingsConfig(),this.$router.currentRoute.hash){const t=document.querySelector(this.$router.currentRoute.hash);t&&t.scrollIntoView()}}},T=y,q=(e("f85e"),e("2877")),P=e("9989"),S=e("8f8e"),U=e("9564"),D=e("ddd8"),A=e("9c40"),z=e("05c0"),F=e("27f9"),I=e("0016"),B=e("e7a9"),L=e("7ff0"),j=e("2c91"),R=e("8572"),O=e("eebe"),Q=e.n(O),M=Object(q["a"])(T,i,a,!1,null,"27a92406",null);s["default"]=M.exports;Q()(M,"components",{QPage:P["a"],QCheckbox:S["a"],QToggle:U["a"],QSelect:D["a"],QBtn:A["a"],QTooltip:z["a"],QInput:F["a"],QIcon:I["a"],QBtnGroup:B["a"],QFooter:L["a"],QSpace:j["a"],QField:R["a"]})},f85e:function(t,s,e){"use strict";e("0643")}}]);